awk 'BEGIN{OFS="\t"} {if($3~/mRNA/) {mrna_line=$0;sub("ID","Parent",$9);new_mrna_line=$0;sub("Parent","ID",$9);sub("mRNA","gene",$3);new_gene_line =$0;sub("gene","mRNA",$3);parid=$9;sub("ID","Parent",parid);mrnaid=$9;sub(mrnaid,mrnaid"!.1",mrnaid);print new_gene_line"\n"$1"\t"$2"\t"$3"\t"$4"\t"$5"\t"$6"\t"$7"\t"$8"\t"mrnaid";"parid} else{cds=$0;par=$9;sub(par,par"!.1",par);id=$9;sub("Parent","ID",id);sub(id,id"!_cds.1",id);print $1"\t"$2"\t"$3"\t"$4"\t"$5"\t"$6"\t"$7"\t"$8"\t"id";"par}}' watermelon_v1.gff |sed -e 's/;!//g' >new3.gff
